<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Viaje Italia-Eslovenia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: #f8f9fa;
      /* Eliminamos height: 100vh y flex */
      min-height: 100vh;
    }

    section {
      display: none;
      width: 100%;
      /* Cambiamos height: 100% por min-height y scroll */
      min-height: 100vh;
      overflow-y: auto; /* permite scroll */
      padding: 20px 10px; /* opcional, para no tocar bordes */
    }
    section.active {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .calendar {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
      width: 100%;
      max-width: 1200px;
      padding: 10px;
    }
    .day {
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      min-height: 160px;
      overflow: hidden;
      cursor: pointer;
    }
    .day.inactive {
      background: #e9ecef;
      color: #6c757d;
      cursor: not-allowed;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 0.9rem;
      font-weight: 500;
    }
    .day-header {
      background: #dee2e6;
      font-size: 0.85rem;
      font-weight: 600;
      text-align: center;
      padding: 4px;
      border-bottom: 1px solid #ccc;
    }
    .plan {
      flex: 1;
      display: grid;
      grid-template-rows: 1fr 2fr 1fr 2fr 1fr;
    }
    .slot {
      border-top: 1px solid #eee;
      padding: 2px 4px;
      font-size: 0.75rem;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      white-space: pre-wrap;
    }
    #calendar .slot {
      font-size: 0.5rem; /* tama√±o m√°s peque√±o solo en la secci√≥n principal */
    }
    .slot:first-child { border-top: none; }
    .slot.small { background: #f1f3f5; font-weight: 500; }
    .events {
      font-size: 0.7rem;
      line-height: 1.2;
      margin: 4px;
      text-align: center;
    }
    sup { font-size: 0.6em; }

    /* Vista detalle */
    .day-detail {
      width: 90%;
      max-width: 400px;
      display: flex;
      flex-direction: column;
      height: calc(100vh - 60px); /* altura disponible menos nav-bar */
      margin: auto;
    }

    .day-detail .plan {
      display: flex;
      flex-direction: column;
      flex: 1; /* ocupa todo el espacio disponible */
      gap: 5px;
      overflow-y: auto; /* scroll si es necesario */
    }

    .day-detail .slot {
      flex: 1; /* cada slot ocupa altura proporcional */
      font-size: 0.9rem;
    }
    .nav-bar {
      position: absolute;
      top: 10px;
      left: 0;
      right: 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 15px;
    }
    .nav-btn {
      font-size: 1.5rem;
      background: none;
      border: none;
      cursor: pointer;
      opacity: 0.8;
    }
    .nav-btn:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }
    @media (orientation: portrait) {
      .calendar {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 8px;
        padding: 10px;
        overflow-x: auto; /* permite scroll si hay demasiados d√≠as */
      }

      .calendar .day {
        width: 100%; /* cada d√≠a ocupa la columna del grid */
      }
    }
    /* Landscape: ajustar al ancho de pantalla, sin scroll */
    @media (orientation: landscape) {
      .calendar {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 8px;
        padding: 10px;
        overflow-x: hidden; /* sin scroll */
      }
    }
  </style>
</head>
<body>
  <!-- SECCI√ìN PRINCIPAL -->
  <section id="calendar-section" class="active">
    <div class="calendar" id="calendar"></div>
  </section>

  <!-- SECCI√ìN DETALLE -->
  <section id="day-section">
    <div class="nav-bar">
      <button id="prev-btn" class="nav-btn">‚¨ÖÔ∏è</button>
      <button id="home-btn" class="nav-btn">üè†</button>
      <button id="next-btn" class="nav-btn">‚û°Ô∏è</button>
    </div>
    <div id="day-detail" class="day day-detail"></div>
  </section>

  <script>
    const days = [
      //{ date: "2025-09-29", label: "Lun 29", active: false },
      //{ date: "2025-09-30", label: "Mar 30", active: false },
      //{ date: "2025-10-01", label: "Mi√© 01", active: false },
      //{ date: "2025-10-02", label: "Jue 02", active: false },
      { date: "2025-10-03", label: "Vie 03", active: true, dayNumber: 1, slots: [
        "Oporto/Venecia",
        "Vuelo ‚úàÔ∏è OPO ‚Üí TSF 06:10 PT - 09:50",
        "Coger coche y conducir a Liubliana (Eslovenia) ~3h",
        "Tarde: Paseo por las orillas del r√≠o Ljubljanica y colinas cercanas",
        "Dormir en Liubliana: Hotel City o similar"
      ]},

      { date: "2025-10-04", label: "S√°b 04", active: true, dayNumber: 2, slots: [
        "Liubliana",
        "Ma√±ana: Excursi√≥n a Lago Bled, paseo y caminata por los alrededores",
        "Comida picnic o restaurante cercano al lago",
        "Tarde: Ruta a pie por la zona de los Alpes Julianos cercanos",
        "Dormir en Bled: Hotel Park Bled o similar"
      ]},

      { date: "2025-10-05", label: "Dom 05", active: true, dayNumber: 3, slots: [
        "Bled",
        "Ma√±ana: Paseo en barca por la isla de Bled y caminata por los alrededores",
        "Comida en Bled",
        "Tarde: Conducci√≥n hacia Bohinj y caminata por el Parque Nacional Triglav",
        "Dormir en Bohinj: Hotel Jezero o similar"
      ]},

      { date: "2025-10-06", label: "Lun 06", active: true, dayNumber: 4, slots: [
        "Bohinj / Valle de Soƒça",
        "Ma√±ana: Ruta de senderismo por el Valle de Soƒça",
        "Comida picnic en la naturaleza",
        "Tarde: Visita a cascada Kozjak y caminata por senderos cercanos",
        "Dormir en Tolmin o Kobarid: Hotel Hvala o similar"
      ]},

      { date: "2025-10-07", label: "Mar 07", active: true, dayNumber: 5, slots: [
        "Eslovenia ‚Üí Venecia",
        "Ma√±ana: Salida temprano hacia Venecia (~3h)",
        "Comida en ruta o en Mestre",
        "Tarde: Paseo por la Laguna y zonas verdes alrededor de Mestre",
        "Dormir en Venecia Mestre: cerca de la estaci√≥n de tren"
      ]},

      { date: "2025-10-08", label: "Mi√© 08", active: true, dayNumber: 6, slots: [
        "Zona norte de Italia",
        "Ma√±ana: Excursi√≥n a Dolomitas o paseos por colinas cercanas",
        "Comida picnic o restaurante en ruta",
        "Tarde: Recorrido por lagos o miradores de monta√±a",
        "Dormir en Venecia Mestre"
      ]},

      { date: "2025-10-09", label: "Jue 09", active: true, dayNumber: 7, slots: [
        "Venecia",
        "Ma√±ana: Paseo por islas cercanas (Murano, Burano)",
        "Comida en Burano o Torcello",
        "Tarde: Paseo por canales y zonas verdes, disfrutar paisaje",
        "Dormir en Venecia Mestre"
      ]},

      { date: "2025-10-10", label: "Vie 10", active: true, dayNumber: 8, slots: [
        "Venecia/Oporto",
        "Vuelo ‚úàÔ∏è TSF ‚Üí OPO 10:20 - 12:15 PT",
        "-",
        "-",
        "-"
      ]},
      //{ date: "2025-10-11", label: "S√°b 11", active: false },
      //{ date: "2025-10-12", label: "Dom 12", active: false },
    ];

    const calendar = document.getElementById("calendar");
    const calendarSection = document.getElementById("calendar-section");
    const daySection = document.getElementById("day-section");
    const dayDetail = document.getElementById("day-detail");
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");
    const homeBtn = document.getElementById("home-btn");

    const activeDays = days.filter(d => d.active);
    let currentDayIndex = 0;

    // Render calendario principal
    days.forEach((day, idx) => {
      const div = document.createElement("div");
      div.className = "day" + (day.active ? "" : " inactive");

      if (!day.active) {
        div.textContent = day.label;
      } else {
        const header = document.createElement("div");
        header.className = "day-header";
        header.textContent = day.label + " (D√≠a " + day.dayNumber + ")";
        div.appendChild(header);

        const plan = document.createElement("div");
        plan.className = "plan";
        day.slots.forEach((slot, i) => {
          const slotDiv = document.createElement("div");
          slotDiv.className = "slot" + ((i === 0 || i === 4) ? " small" : "");
          slotDiv.innerHTML = slot;
          plan.appendChild(slotDiv);
        });
        div.appendChild(plan);

        div.addEventListener("click", () => {
          currentDayIndex = activeDays.findIndex(d => d.dayNumber === day.dayNumber);
          showDayDetail();
        });
      }
      calendar.appendChild(div);
    });

    // Mostrar detalle de un d√≠a
    function showDayDetail() {
      const day = activeDays[currentDayIndex];
      dayDetail.innerHTML = ""; // limpiar

      // Cabecera
      const header = document.createElement("div");
      header.className = "day-header";
      header.textContent = day.label + " (D√≠a " + day.dayNumber + ")";

      // Plan
      const plan = document.createElement("div");
      plan.className = "plan";
      day.slots.forEach((slot, i) => {
        const slotDiv = document.createElement("div");
        slotDiv.className = "slot" + ((i === 0 || i === 4) ? " small" : "");
        slotDiv.innerHTML = slot;
        plan.appendChild(slotDiv);
      });

      dayDetail.appendChild(header);
      dayDetail.appendChild(plan);

      // Botones navegaci√≥n
      prevBtn.disabled = (currentDayIndex === 0);
      nextBtn.disabled = (currentDayIndex === activeDays.length - 1);

      // Mostrar secci√≥n detalle
      calendarSection.classList.remove("active");
      daySection.classList.add("active");
    }

    // Botones navegaci√≥n
    prevBtn.addEventListener("click", () => {
      if (currentDayIndex > 0) {
        currentDayIndex--;
        showDayDetail();
      }
    });
    nextBtn.addEventListener("click", () => {
      if (currentDayIndex < activeDays.length - 1) {
        currentDayIndex++;
        showDayDetail();
      }
    });
    homeBtn.addEventListener("click", () => {
      daySection.classList.remove("active");
      calendarSection.classList.add("active");
    });
  </script>
</body>
</html>
